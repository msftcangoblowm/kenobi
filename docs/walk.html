<html>
<head>
<title>kenobiDB</title>
<link rel="icon" href="https://patx.github.io/favicon.ico">
<link href="https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Mono&display=swap" rel="stylesheet">
<style>
body { margin-right: 50%; font-family: 'Ubuntu', sans-serif;
       background-image: url('background_kenobi.jpg');
       background-size: 115%; background-repeat: no-repeat;
       background-color: #f2ead7; }
pre { font-family: 'Ubuntu Mono', monospace; }
h1 { font-size: 50px; }
a.head { color: black; text-decoration: none; }
a { color: brown; text-decoration: none; }
a:hover { color: brown; font-weight: bold; }
</style>
</head>
<body>
<h1><a class="head" href="index.html">kenobiDB</a></h1>
<h2>Walkthrough</h2>
Make sure you have installed kenobiDB via pip or from source
if you are following along.
<h3>Setting up the database</h3>
Import kenobiDB
<pre>>>> from kenobi import KenobiDB</pre>
Create instance of KenobiDB class
<pre>>>> db = KenobiDB('database.yaml')</pre>
If you would like kenobiDB to write changes to the disk as soon as they happen
you can set auto_save to True:
<pre>>>> db = KenobiDB('database.yaml', auto_save=True)</pre>

<h3>Inserting documents</h3>
Insert one document at a time
<pre>>>> db.insert({'name': 'user1', 'groups': ['user']})
True</pre>
You can also insert many documents at once
<pre>>>> db.insert_many([{'name': 'user2', 'groups': ['admin', 'user']},
{'name': 'user3', 'groups': ['sudo', 'user']}])
True</pre>
<h3>Searching documents</h3>
Get a list of all documents in the database
<pre>>>> db.all()
[{'name': 'user1', 'groups': ['user']},
 {'name': 'user2', 'groups': ['admin', 'user']},
 {'name': 'user3', 'groups': ['sudo', 'user']}]</pre>
Search for documents
<pre>>>> db.search('name', 'user1')
[{'name': 'user1', 'groups': ['user']}]</pre>
Use nested any/all searches as well:
<pre>
>>> db.find_any('groups', ['admin', 'sudo'])
[{'name': 'user2', 'groups': ['admin', 'user']},
 {'name': 'user3', 'groups': ['sudo', 'user']}]

>>> db.find_all('groups', ['admin', 'user'])
[{'name': 'user2', 'groups': ['admin', 'user']}]
</pre>
As you can see, 'any' tests if there is at least one document matching 
the search while 'all' ensures all documents match the search.<br>

<h3>Updating a document</h3>
Update a with the matching key, value pair
<pre>>>> db.update('name', 'user1', {'groups': ['user', sudo', 'admin']})
True</pre>
Lets check to see the updated document
<pre>>>> db.all()
[{'name': 'user1', 'groups': ['user', 'sudo', 'admin']},
 {'name': 'user2', 'groups': ['admin', 'user']},
 {'name': 'user3', 'groups': ['sudo', 'user']}]</pre>
<h3>Saving the database</h3>
Since auto_save was not to True when this instance of KenobiDB was created,
you have to save the database to the 'database.yaml' file
<pre>>>> db.save_db()
True</pre>
<h3>Removing documents</h3>
Remove one document:
<pre>>>> db.remove('name', 'user1')
[{'name': 'user1', 'groups': ['user', 'sudo', 'admin']}]</pre>
You can see the document is gone from our database:
<pre>>>> db.all()
[{'name': 'user2', 'groups': ['admin', 'user']},
 {'name': 'user3', 'groups': ['sudo', 'user']}]</pre>
And of course you can delete the entire database and start with a clean slate
<pre>>>> db.purge()
True</pre>
All gone:
<pre>>>> db.all()
[]</pre>
<h3>Suggestions</h3>
If you have any suggestions or need to report a bug please file an <a href="https://github.com/patx/kenobi/issues">issue on GitHub</a>!

<br><br><br>
<small>
Written by <a href="http://patx.github.io/">Harrison Erd</a>
<br>
Art by <a href="https://www.deviantart.com/verucasalt82">Jessica Finson Roth</a>
</small>
</body>
</html>
